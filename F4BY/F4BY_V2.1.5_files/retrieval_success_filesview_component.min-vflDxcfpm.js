define(["require","exports","tslib","external/react-redux","react","modules/clean/react/retrieval_success_banner/constants","modules/clean/react/retrieval_success_banner/data/store","modules/clean/react/retrieval_success_banner/data/selectors","modules/clean/react/retrieval_success_banner/browse_success_banner","modules/clean/react/retrieval_success_banner/search_success_banner","modules/clean/react/retrieval_success_banner/util","modules/clean/react/retrieval_success_banner/data/action_creators"],function(e,r,n,a,t,s,c,i,o,u,l,S){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t=n.__importDefault(t),i=n.__importStar(i),S=n.__importStar(S);var d=function(e,r){var a=i.isBrowseSuccessBannerCounterComplete,t=i.isBrowseSuccessBannerVisible,s=i.isRetrievalSuccessBannerVisible,c=i.isSearchSuccessBannerVisible,o=i.isSearchBarAbandoned,u=i.isSearchResultActionClicked,l=i.isSearchSuccessBannerDismissed;return n.__assign({browseSuccessBannerCounterComplete:a(e),browseSuccessBannerShouldShow:t(e),retrievalSuccessBannerShouldShow:s(e),searchSuccessBannerShouldShow:c(e),searchBarAbandoned:o(e),searchResultActionClicked:u(e),searchSuccessBannerDismissed:l(e)},r)},B={initialStoreByLocalStorage:S.initialStoreByLocalStorage},p=(function(e){function r(r){var n=e.call(this,r)||this;return n.updateBannerVariant=function(){var e=n.props,r=e.searchSuccessBannerShouldShow,a=e.browseSuccessBannerCounterComplete,t=e.browseSuccessBannerShouldShow,c=e.searchResultActionClicked;if(l.userIsOptedOutOfRetrievalSuccessBanner())return void n.setState({bannerVariant:s.BannerVariant.NONE});r||c?n.setState({bannerVariant:s.BannerVariant.SSB}):a||t?n.setState({bannerVariant:s.BannerVariant.BSB}):n.setState({bannerVariant:s.BannerVariant.NONE})},n.state={bannerVariant:s.BannerVariant.NONE},n}return n.__extends(r,e),r.prototype.componentDidUpdate=function(){this.updateBannerVariant()},r.prototype.componentWillMount=function(){(0,this.props.initialStoreByLocalStorage)(),this.updateBannerVariant()},r.prototype.render=function(){var e=this.props,r=e.user,n=e.displayContext,a=this.state.bannerVariant;return a===s.BannerVariant.SSB?t.default.createElement(u.SearchSuccessBanner,{user:r,displayContext:n}):a===s.BannerVariant.BSB?t.default.createElement(o.BrowseSuccessBanner,{displayContext:n}):null},r.defaultProps={displayContext:s.SearchSuccessDisplayContext.IN_EMBEDDED_APP},r})(t.default.PureComponent);r.RetrievalSuccessFilesviewBannerComponent=p;var _=a.connect(d,B)(p),h=c.getStoreForSuccessBanner();r.RetrievalSuccessFilesviewBannerWithProvider=function(e){return t.default.createElement(a.Provider,{store:h},t.default.createElement(_,n.__assign({},e)))}});
//# sourceMappingURL=retrieval_success_filesview_component.min.js-vflQV-f6c.map